def getArr(model,imarray,sz):
	z = imarray.reshape(sz,sz)
	z = blockshaped(z,20,20)
	print z.shape
	x = z[:,:,:,np.newaxis]
	#z = z.reshape(sz*sz/400,400)
	res = []
	for i in range(z.shape[0]):
		probs = model.predict(x[np.newaxis, i])
		prediction = probs.argmax(axis=1)
		print i/20,'  ',i%20,probs,' pred : ',prediction
		res.append(prediction)
		dispImg(z[i],20,100)
	return res

